--- evince-2.28.2/cut-n-paste/gimpcellrenderertoggle/gimpcellrenderertoggle.c
+++ evince-2.28.2/cut-n-paste/gimpcellrenderertoggle/gimpcellrenderertoggle.c
@@ -315,7 +315,7 @@ gimp_cell_renderer_toggle_render (GtkCel
     }
   else if ((flags & GTK_CELL_RENDERER_SELECTED) == GTK_CELL_RENDERER_SELECTED)
     {
-      if (GTK_WIDGET_HAS_FOCUS (widget))
+      if (gtk_widget_has_focus (widget))
         state = GTK_STATE_SELECTED;
       else
         state = GTK_STATE_ACTIVE;
--- evince-2.28.2/cut-n-paste/toolbar-editor/egg-editable-toolbar.c
+++ evince-2.28.2/cut-n-paste/toolbar-editor/egg-editable-toolbar.c
@@ -872,7 +872,7 @@ toolbar_visibility_refresh (EggEditableT
   
   priv->visibility_id = gtk_ui_manager_new_merge_id (priv->manager);
   
-  showing = GTK_WIDGET_VISIBLE (etoolbar);
+  showing = gtk_widget_get_visible (GTK_WIDGET (etoolbar));
   
   n_toolbars = egg_toolbars_model_n_toolbars (priv->model);
   for (i = 0; i < n_toolbars; i++)
@@ -954,7 +954,7 @@ toolbar_visibility_refresh (EggEditableT
       gtk_action_set_visible (GTK_ACTION (action), (egg_toolbars_model_get_flags (priv->model, i) 
 						    & EGG_TB_MODEL_NOT_REMOVABLE) == 0);
       gtk_action_set_sensitive (GTK_ACTION (action), showing);
-      gtk_toggle_action_set_active (action, GTK_WIDGET_VISIBLE
+      gtk_toggle_action_set_active (action, gtk_widget_get_visible
 				    (get_dock_nth (etoolbar, i)));
       
       for (list = priv->visibility_paths; list != NULL; list = g_list_next (list))
--- evince-2.28.2/libmisc/ev-page-action.c
+++ evince-2.28.2/libmisc/ev-page-action.c
@@ -362,7 +362,7 @@ ev_page_action_grab_focus (EvPageAction
 
 		proxy = EV_PAGE_ACTION_WIDGET (proxies->data);
 		
-		if (GTK_WIDGET_MAPPED (GTK_WIDGET (proxy)))
+		if (gtk_widget_get_mapped (GTK_WIDGET (proxy)))
 			gtk_widget_grab_focus (proxy->entry);
 	}
 }
--- evince-2.28.2/libview/ev-annotation-window.c
+++ evince-2.28.2/libview/ev-annotation-window.c
@@ -253,7 +253,7 @@ ev_annotation_window_set_resize_cursor (
 	if (!widget->window)
 		return;
 
-	if (GTK_WIDGET_IS_SENSITIVE (widget)) {
+	if (gtk_widget_is_sensitive (widget)) {
 		GdkDisplay *display = gtk_widget_get_display (widget);
 		GdkCursor  *cursor;
 
@@ -631,7 +631,7 @@ ev_annotation_window_grab_focus (EvAnnot
 {
 	g_return_if_fail (EV_IS_ANNOTATION_WINDOW (window));
 
-	if (!GTK_WIDGET_HAS_FOCUS (window->text_view)) {
+	if (!gtk_widget_has_focus (window->text_view)) {
 		gtk_widget_grab_focus (GTK_WIDGET (window));
 		send_focus_change (window->text_view, TRUE);
 	}
@@ -642,7 +642,7 @@ ev_annotation_window_ungrab_focus (EvAnn
 {
 	g_return_if_fail (EV_IS_ANNOTATION_WINDOW (window));
 
-	if (GTK_WIDGET_HAS_FOCUS (window->text_view)) {
+	if (gtk_widget_has_focus (window->text_view)) {
 		send_focus_change (window->text_view, FALSE);
 	}
 
--- evince-2.28.2/libview/ev-pixbuf-cache.c
+++ evince-2.28.2/libview/ev-pixbuf-cache.c
@@ -608,7 +608,7 @@ ev_pixbuf_cache_clear_job_sizes (EvPixbu
 static void
 get_selection_colors (GtkWidget *widget, GdkColor **text, GdkColor **base)
 {
-    if (GTK_WIDGET_HAS_FOCUS (widget)) {
+    if (gtk_widget_has_focus (widget)) {
 	*text = &widget->style->text [GTK_STATE_SELECTED];
 	*base = &widget->style->base [GTK_STATE_SELECTED];
     } else {
--- evince-2.28.2/libview/ev-view.c
+++ evince-2.28.2/libview/ev-view.c
@@ -2142,7 +2142,7 @@ ev_view_window_child_move_with_parent (E
 		ev_view_window_child_move (view, child, dest_x, dest_y);
 	}
 
-	if (child->visible && !GTK_WIDGET_VISIBLE (window))
+	if (child->visible && !gtk_widget_get_visible (window))
 		gtk_widget_show (window);
 }
 
@@ -2799,7 +2799,7 @@ draw_end_presentation_page (EvView
 
 	gtk_paint_layout (GTK_WIDGET (view)->style,
 			  view->layout.bin_window,
-			  GTK_WIDGET_STATE (view),
+			  gtk_widget_get_state (GTK_WIDGET (view)),
 			  FALSE,
 			  page_area,
 			  GTK_WIDGET (view),
@@ -3059,7 +3059,7 @@ ev_view_button_press_event (GtkWidget
 	if (!view->document)
 		return FALSE;
 	
-	if (!GTK_WIDGET_HAS_FOCUS (widget)) {
+	if (!gtk_widget_has_focus (widget)) {
 		gtk_widget_grab_focus (widget);
 	}
 
@@ -3784,7 +3784,7 @@ ev_view_key_press_event (GtkWidget   *wi
 	if (!view->document)
 		return FALSE;
 
-	if (!GTK_WIDGET_HAS_FOCUS (widget)) {
+	if (!gtk_widget_has_focus (widget)) {
 		/* Forward key events to current focused window child */
 		if (view->window_child_focus) {
 			GdkEventKey *new_event;
@@ -4689,7 +4689,7 @@ on_adjustment_value_changed (GtkAdjustme
 	gint x, y;
 	GList *children, *l;
 
-	if (! GTK_WIDGET_REALIZED (view))
+	if (! gtk_widget_get_realized (GTK_WIDGET (view)))
 		return;
 
 	if (view->hadjustment) {
@@ -5079,7 +5079,7 @@ ev_view_set_presentation (EvView   *view
 		}
 	}
 
-	if (GTK_WIDGET_REALIZED (view)) {
+	if (gtk_widget_get_realized (GTK_WIDGET (view))) {
 		if (view->presentation)
 			gdk_window_set_background (view->layout.bin_window,
 						   &GTK_WIDGET (view)->style->black);
--- evince-2.28.2/shell/ev-application.c
+++ evince-2.28.2/shell/ev-application.c
@@ -641,7 +641,7 @@ ev_application_open_window (EvApplicatio
 				  application);
 #endif
 
-	if (!GTK_WIDGET_REALIZED (new_window))
+	if (!gtk_widget_get_realized (new_window))
 		gtk_widget_realize (new_window);
 	
 #ifdef GDK_WINDOWING_X11
@@ -776,7 +776,7 @@ ev_application_open_uri_at_dest (EvAppli
 				  application);
 #endif
 
-	if (!GTK_WIDGET_REALIZED (GTK_WIDGET (new_window)))
+	if (!gtk_widget_get_realized (GTK_WIDGET (new_window)))
 		gtk_widget_realize (GTK_WIDGET (new_window));
 
 #ifdef GDK_WINDOWING_X11
--- evince-2.28.2/shell/ev-navigation-action-widget.c
+++ evince-2.28.2/shell/ev-navigation-action-widget.c
@@ -98,7 +98,7 @@ ev_navigation_action_widget_set_menu(EvN
       if (button->menu == GTK_MENU (menu))
 		return;
 	
-      if (button->menu && GTK_WIDGET_VISIBLE (button->menu))
+      if (button->menu && gtk_widget_get_visible (GTK_WIDGET (button->menu)))
 	        gtk_menu_shell_deactivate (GTK_MENU_SHELL (button->menu));
 
       if (button->menu) {
@@ -186,7 +186,7 @@ ev_navigation_action_widget_toggled (Gtk
     		return;
 
 	if (gtk_toggle_tool_button_get_active (GTK_TOGGLE_TOOL_BUTTON (button)) &&
-	    !GTK_WIDGET_VISIBLE (button->menu)) {
+	    !gtk_widget_get_visible (GTK_WIDGET (button->menu))) {
 		      /* we get here only when the menu is activated by a key
 		       * press, so that we can select the first menu item */
 		      popup_menu_under_arrow (button, NULL);
--- evince-2.28.2/shell/ev-sidebar-attachments.c
+++ evince-2.28.2/shell/ev-sidebar-attachments.c
@@ -272,7 +272,7 @@ ev_sidebar_attachments_button_press (EvS
 				     GdkEventButton       *event,
 				     GtkWidget            *icon_view)
 {
-	if (!GTK_WIDGET_HAS_FOCUS (icon_view)) {
+	if (!gtk_widget_has_focus (icon_view)) {
 		gtk_widget_grab_focus (icon_view);
 	}
 	
--- evince-2.28.2/shell/ev-sidebar.c
+++ evince-2.28.2/shell/ev-sidebar.c
@@ -207,7 +207,7 @@ ev_sidebar_menu_position_under (GtkMenu
 	GtkWidget *widget;
 
 	g_return_if_fail (GTK_IS_BUTTON (user_data));
-	g_return_if_fail (GTK_WIDGET_NO_WINDOW (user_data));
+	g_return_if_fail (gtk_widget_get_has_window (user_data));
 
 	widget = GTK_WIDGET (user_data);
 	   
--- evince-2.28.2/shell/ev-sidebar-links.c
+++ evince-2.28.2/shell/ev-sidebar-links.c
@@ -548,7 +548,7 @@ update_page_callback (EvPageCache    *pa
 	GtkTreeIter iter;
 
 	/* Widget is not currently visible */
-	if (!GTK_WIDGET_MAPPED (sidebar_links))
+	if (!gtk_widget_get_mapped (GTK_WIDGET (sidebar_links)))
 		return;
 	
 	selection = gtk_tree_view_get_selection (GTK_TREE_VIEW (sidebar_links->priv->tree_view));
--- evince-2.28.2/shell/ev-sidebar-thumbnails.c
+++ evince-2.28.2/shell/ev-sidebar-thumbnails.c
@@ -361,14 +361,14 @@ adjustment_changed_cb (EvSidebarThumbnai
 	gint wy2;
 
 	/* Widget is not currently visible */
-	if (!GTK_WIDGET_MAPPED (sidebar_thumbnails))
+	if (!gtk_widget_get_mapped (GTK_WIDGET (sidebar_thumbnails)))
 		return;
 
 	if (priv->vadjustment->page_size == 0)
 		return;
 	
 	if (priv->tree_view) {
-		if (! GTK_WIDGET_REALIZED (priv->tree_view))
+		if (! gtk_widget_get_realized (priv->tree_view))
 			return;
 
 		gtk_tree_view_convert_tree_to_bin_window_coords (GTK_TREE_VIEW (priv->tree_view),
@@ -384,7 +384,7 @@ adjustment_changed_cb (EvSidebarThumbnai
 					       1, wy2 -1, &path2,
 					       NULL, NULL, NULL);
 	} else if (priv->icon_view) {
-		if (! GTK_WIDGET_REALIZED (priv->icon_view))
+		if (! gtk_widget_get_realized (priv->icon_view))
 			return;
 		if (! gtk_icon_view_get_visible_range (GTK_ICON_VIEW (priv->icon_view), &path, &path2))
 			return;
--- evince-2.28.2/shell/ev-window.c
+++ evince-2.28.2/shell/ev-window.c
@@ -4290,10 +4290,10 @@ ev_window_sidebar_visibility_changed_cb
 
 	if (!ev_view_get_presentation (view)) {
 		gtk_toggle_action_set_active (GTK_TOGGLE_ACTION (action),
-					      GTK_WIDGET_VISIBLE (ev_sidebar));
+					      gtk_widget_get_visible (GTK_WIDGET (ev_sidebar)));
 
 		ev_metadata_manager_set_boolean (ev_window->priv->uri, "sidebar_visibility",
-					         GTK_WIDGET_VISIBLE (ev_sidebar));
+					         gtk_widget_get_visible (GTK_WIDGET (ev_sidebar)));
 	}
 }
 
@@ -4562,7 +4562,7 @@ find_bar_visibility_changed_cb (EggFindB
 {
 	gboolean visible;
 
-	visible = GTK_WIDGET_VISIBLE (find_bar);
+	visible = gtk_widget_get_visible (GTK_WIDGET (find_bar));
 
 	if (ev_window->priv->document &&
 	    EV_IS_DOCUMENT_FIND (ev_window->priv->document)) {
@@ -4879,7 +4879,7 @@ ev_window_key_press_event (GtkWidget   *
 	 */
 	if (priv->view) {
 		g_object_ref (priv->view);
-		if (GTK_WIDGET_IS_SENSITIVE (priv->view))
+		if (gtk_widget_is_sensitive (priv->view))
 			handled = gtk_widget_event (priv->view, (GdkEvent*) event);
 		g_object_unref (priv->view);
 	}
@@ -4890,7 +4890,7 @@ ev_window_key_press_event (GtkWidget   *
 		if (priv->menubar_accel_keyval != 0 &&
 		    event->keyval == priv->menubar_accel_keyval &&
 		    modifier == priv->menubar_accel_modifier) {
-			if (!GTK_WIDGET_VISIBLE (priv->menubar)) {
+			if (!gtk_widget_get_visible (priv->menubar)) {
 				g_signal_connect (priv->menubar, "deactivate",
 						  G_CALLBACK (menubar_deactivate_cb),
 						  ev_window);
